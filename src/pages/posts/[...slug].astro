---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import type { Code } from "astro:components";

// NextåŒæ§˜å¿…é ˆã«ãªã‚Šã¾ã™ğŸ¤—
// å°‘ã—é›£ã—ã„ã®ã§ã™ãŒgetStaticPathsã§åˆ¤æ–­ã‚’ã—ã¾ã™ï¼å­˜åœ¨ã™ã‚‹URLãŒãªã„æ™‚=mdãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚‚ã®ã¯è¡¨ç¤ºã—ãªã„ï¼
export async function getStaticPaths() {
  const data = await getCollection('posts')

  return data.map(post => ({
    params: { slug: post.slug }, props: {post},
  }))

  // ã“ã®ä¸‹æ¶ˆã•ãªã„
}

const { post } = Astro.props;
console.log(post); //è¡¨ç¤ºã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

const { Content } = await post.render();

---

<Layout title="è¨˜äº‹è©³ç´°">
  <div class="post">
    <Content />
  </div>
  <!-- 
  ã“ã®ä¸‹ã®æ›¸ãæ–¹ã‚’ã™ã‚‹ã¨è¡¨ç¤ºå†…å®¹ã‚’å…¨ã¦åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã‚‹
  Astroç‹¬è‡ªã®åŸ‹ã‚è¾¼ã¿æ–¹ã«ãªã‚Šã¾ã™ğŸ¤—
  const { Content } = await post.render(); 
  //å‘½åã¯Contentã—ã‹ãƒ€ãƒ¡ã§ã™ã®ã§æ³¨æ„ï¼
-->
  <a href="/" class="post-link">TOPã¸æˆ»ã‚‹</a>
</Layout>

<style>
  .post{
    width: 90%;
    margin: 50px auto;
  }

  .post-link{
    display: flex;
    justify-content: center;
    align-items: center;
    width: 300px;
    height: 50px;
    border: 1px solid #ccc;
    text-align: center;
    color: #000;
    text-decoration: none;
    margin: 0 auto 80px;
    transition: all .3s;
  }

  .post-link:hover{
    opacity: .5;
  }
</style>